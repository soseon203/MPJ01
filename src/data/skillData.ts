// ============================================================
// 라스트타워 - 스킬 데이터 (64 skills)
// ============================================================

import type { SkillId, SkillData, SkillRarity } from '@/utils/types';
import { SKILL_COSTS } from '@/utils/constants';

export const RARITY_ORDER: SkillRarity[] = [
  'normal', 'magic', 'rare', 'unique', 'mythic', 'legend',
];

const RARITY_MAX_LEVEL: Record<SkillRarity, number> = {
  normal: 10,
  magic: 8,
  rare: 5,
  unique: 3,
  mythic: 2,
  legend: 1,
};

// ============================================================
// SKILLS
// ============================================================

export const SKILLS: Record<SkillId, SkillData> = {
  // --------------------------------------------------------
  // NORMAL (12 skills, baseCost=20, maxLevel=10)
  // --------------------------------------------------------
  rapid_fire: {
    id: 'rapid_fire',
    name: '속사',
    description: '공격 속도가 증가합니다.',
    rarity: 'normal',
    tags: ['SPEED'],
    baseCost: SKILL_COSTS.normal,
    maxLevel: RARITY_MAX_LEVEL.normal,
    passive: true,
    color: 0xffaa00,
    effects: { fireRatePercent: { base: 0.08, perLevel: 0.08 } },
  },
  power_shot: {
    id: 'power_shot',
    name: '강화 사격',
    description: '공격력이 증가합니다.',
    rarity: 'normal',
    tags: ['SINGLE', 'FORCE'],
    baseCost: SKILL_COSTS.normal,
    maxLevel: RARITY_MAX_LEVEL.normal,
    passive: true,
    color: 0xff4444,
    effects: { damagePercent: { base: 0.12, perLevel: 0.12 } },
  },
  long_range: {
    id: 'long_range',
    name: '장거리 사격',
    description: '사거리가 증가합니다.',
    rarity: 'normal',
    tags: ['PROJECTILE'],
    baseCost: SKILL_COSTS.normal,
    maxLevel: RARITY_MAX_LEVEL.normal,
    passive: true,
    color: 0x44aaff,
    effects: { rangePercent: { base: 0.10, perLevel: 0.10 } },
  },
  sharp_bullet: {
    id: 'sharp_bullet',
    name: '날카로운 탄환',
    description: '투사체 속도가 증가합니다.',
    rarity: 'normal',
    tags: ['PROJECTILE', 'FORCE'],
    baseCost: SKILL_COSTS.normal,
    maxLevel: RARITY_MAX_LEVEL.normal,
    passive: true,
    color: 0xcccccc,
    effects: { projSpeedPercent: { base: 0.15, perLevel: 0.15 } },
  },
  tough_skin: {
    id: 'tough_skin',
    name: '강인한 방어',
    description: '화면 내 최대 적 수가 증가합니다.',
    rarity: 'normal',
    tags: ['DEFENSE'],
    baseCost: SKILL_COSTS.normal,
    maxLevel: RARITY_MAX_LEVEL.normal,
    passive: true,
    color: 0x88aa44,
    effects: { maxEnemiesBonus: { base: 3, perLevel: 3 } },
  },
  exp_boost: {
    id: 'exp_boost',
    name: '경험치 부스트',
    description: '획득 경험치가 증가합니다.',
    rarity: 'normal',
    tags: ['ECONOMY'],
    baseCost: SKILL_COSTS.normal,
    maxLevel: RARITY_MAX_LEVEL.normal,
    passive: true,
    color: 0xaa88ff,
    effects: { expPercent: { base: 0.10, perLevel: 0.10 } },
  },
  gold_drop: {
    id: 'gold_drop',
    name: '골드 드랍',
    description: '골드 획득량이 증가합니다.',
    rarity: 'normal',
    tags: ['ECONOMY'],
    baseCost: SKILL_COSTS.normal,
    maxLevel: RARITY_MAX_LEVEL.normal,
    passive: true,
    color: 0xffd700,
    effects: { goldPercent: { base: 0.08, perLevel: 0.08 } },
  },
  focus_aim: {
    id: 'focus_aim',
    name: '집중 조준',
    description: '같은 적을 연속 공격 시 데미지가 증가합니다.',
    rarity: 'normal',
    tags: ['SINGLE'],
    baseCost: SKILL_COSTS.normal,
    maxLevel: RARITY_MAX_LEVEL.normal,
    passive: true,
    color: 0xff8866,
    effects: { focusDamageStack: { base: 0.05, perLevel: 0.05 } },
  },
  quick_reload: {
    id: 'quick_reload',
    name: '빠른 재장전',
    description: '재장전 속도가 증가합니다.',
    rarity: 'normal',
    tags: ['SPEED', 'PROJECTILE'],
    baseCost: SKILL_COSTS.normal,
    maxLevel: RARITY_MAX_LEVEL.normal,
    passive: true,
    color: 0xffcc44,
    effects: { reloadSpeedPercent: { base: 0.05, perLevel: 0.05 } },
  },
  iron_wall: {
    id: 'iron_wall',
    name: '철벽',
    description: '경로 위 적의 이동 속도가 감소합니다.',
    rarity: 'normal',
    tags: ['DEFENSE', 'FORCE'],
    baseCost: SKILL_COSTS.normal,
    maxLevel: RARITY_MAX_LEVEL.normal,
    passive: true,
    color: 0x888888,
    effects: { enemySlowOnPath: { base: 0.03, perLevel: 0.03 } },
  },
  scavenger: {
    id: 'scavenger',
    name: '청소부',
    description: '적 처치 시 생명력을 회복합니다.',
    rarity: 'normal',
    tags: ['ECONOMY'],
    baseCost: SKILL_COSTS.normal,
    maxLevel: RARITY_MAX_LEVEL.normal,
    passive: true,
    color: 0x44dd88,
    effects: { lifeOnKill: { base: 1, perLevel: 0 } },
  },
  steady_hand: {
    id: 'steady_hand',
    name: '정밀 사격',
    description: '치명타 확률이 증가합니다.',
    rarity: 'normal',
    tags: ['SINGLE', 'CRIT'],
    baseCost: SKILL_COSTS.normal,
    maxLevel: RARITY_MAX_LEVEL.normal,
    passive: true,
    color: 0xffaaaa,
    effects: { critChance: { base: 0.02, perLevel: 0.02 } },
  },

  // --------------------------------------------------------
  // MAGIC (14 skills, baseCost=60, maxLevel=8)
  // --------------------------------------------------------
  burn_shot: {
    id: 'burn_shot',
    name: '화염탄',
    description: '적에게 화상 피해를 입힙니다.',
    rarity: 'magic',
    tags: ['DOT', 'FIRE'],
    baseCost: SKILL_COSTS.magic,
    maxLevel: RARITY_MAX_LEVEL.magic,
    passive: false,
    color: 0xff4400,
    effects: {
      fireDps: { base: 3, perLevel: 3 },
      dotDuration: { base: 3, perLevel: 0 },
    },
  },
  ember_blast: {
    id: 'ember_blast',
    name: '잔불 폭발',
    description: '범위 화염 피해를 입힙니다.',
    rarity: 'magic',
    tags: ['AOE', 'FIRE'],
    baseCost: SKILL_COSTS.magic,
    maxLevel: RARITY_MAX_LEVEL.magic,
    passive: false,
    color: 0xff6622,
    effects: {
      splashRadius: { base: 30, perLevel: 5 },
      splashDamage: { base: 5, perLevel: 3 },
    },
  },
  frost_shot: {
    id: 'frost_shot',
    name: '냉기탄',
    description: '적을 감속시킵니다.',
    rarity: 'magic',
    tags: ['CC', 'ICE'],
    baseCost: SKILL_COSTS.magic,
    maxLevel: RARITY_MAX_LEVEL.magic,
    passive: false,
    color: 0x44ddff,
    effects: {
      slowPercent: { base: 0.25, perLevel: 0.05 },
      slowDuration: { base: 2, perLevel: 0.2 },
    },
  },
  chill_aura: {
    id: 'chill_aura',
    name: '한기 오라',
    description: '냉기가 중첩되어 적을 동결시킵니다.',
    rarity: 'magic',
    tags: ['CC', 'ICE', 'DEBUFF'],
    baseCost: SKILL_COSTS.magic,
    maxLevel: RARITY_MAX_LEVEL.magic,
    passive: false,
    color: 0x88eeff,
    effects: {
      chillStacks: { base: 5, perLevel: -0.5 },
      freezeDuration: { base: 1, perLevel: 0.2 },
    },
  },
  shock_shot: {
    id: 'shock_shot',
    name: '감전탄',
    description: '적을 기절시킵니다.',
    rarity: 'magic',
    tags: ['CC', 'LIGHTNING'],
    baseCost: SKILL_COSTS.magic,
    maxLevel: RARITY_MAX_LEVEL.magic,
    passive: false,
    color: 0xffff44,
    effects: {
      stunDuration: { base: 0.3, perLevel: 0.1 },
    },
  },
  static_charge: {
    id: 'static_charge',
    name: '정전기 충전',
    description: '피격 횟수에 따라 전기 방전이 발생합니다.',
    rarity: 'magic',
    tags: ['LIGHTNING', 'DEBUFF'],
    baseCost: SKILL_COSTS.magic,
    maxLevel: RARITY_MAX_LEVEL.magic,
    passive: false,
    color: 0xdddd00,
    effects: {
      staticDischargeHits: { base: 3, perLevel: 0 },
      staticDamage: { base: 15, perLevel: 10 },
    },
  },
  poison_shot: {
    id: 'poison_shot',
    name: '독침',
    description: '적에게 독 피해를 입힙니다.',
    rarity: 'magic',
    tags: ['DOT', 'NATURE', 'DEBUFF'],
    baseCost: SKILL_COSTS.magic,
    maxLevel: RARITY_MAX_LEVEL.magic,
    passive: false,
    color: 0x44ff44,
    effects: {
      poisonDps: { base: 4, perLevel: 4 },
      dotDuration: { base: 3, perLevel: 0 },
    },
  },
  thorn_shot: {
    id: 'thorn_shot',
    name: '가시탄',
    description: '가시 피해를 추가합니다.',
    rarity: 'magic',
    tags: ['NATURE', 'FORCE'],
    baseCost: SKILL_COSTS.magic,
    maxLevel: RARITY_MAX_LEVEL.magic,
    passive: false,
    color: 0x88cc44,
    effects: {
      thornDamage: { base: 3, perLevel: 2 },
    },
  },
  shadow_bolt: {
    id: 'shadow_bolt',
    name: '그림자 화살',
    description: '적에게 공포를 유발합니다.',
    rarity: 'magic',
    tags: ['DARK', 'SINGLE'],
    baseCost: SKILL_COSTS.magic,
    maxLevel: RARITY_MAX_LEVEL.magic,
    passive: false,
    color: 0x8844cc,
    effects: {
      fearChance: { base: 0.05, perLevel: 0.05 },
      fearDuration: { base: 1, perLevel: 0 },
    },
  },
  life_drain: {
    id: 'life_drain',
    name: '생명력 흡수',
    description: '처치 시 일시적 생명력 회복 효과를 얻습니다.',
    rarity: 'magic',
    tags: ['DARK', 'DEBUFF'],
    baseCost: SKILL_COSTS.magic,
    maxLevel: RARITY_MAX_LEVEL.magic,
    passive: false,
    color: 0xcc44aa,
    effects: {
      lifeOnKillTemp: { base: 1, perLevel: 0 },
      lifeDuration: { base: 5, perLevel: 1 },
    },
  },
  splash_shot: {
    id: 'splash_shot',
    name: '파편탄',
    description: '범위 피해를 입힙니다.',
    rarity: 'magic',
    tags: ['AOE', 'PROJECTILE'],
    baseCost: SKILL_COSTS.magic,
    maxLevel: RARITY_MAX_LEVEL.magic,
    passive: false,
    color: 0xff8844,
    effects: {
      splashRadius: { base: 15, perLevel: 8 },
    },
  },
  critical_strike: {
    id: 'critical_strike',
    name: '치명타',
    description: '치명타 확률과 치명타 데미지가 증가합니다.',
    rarity: 'magic',
    tags: ['CRIT', 'SINGLE'],
    baseCost: SKILL_COSTS.magic,
    maxLevel: RARITY_MAX_LEVEL.magic,
    passive: true,
    color: 0xff2222,
    effects: {
      critChance: { base: 0.08, perLevel: 0.04 },
      critDamage: { base: 2.0, perLevel: 0 },
    },
  },
  bleed_shot: {
    id: 'bleed_shot',
    name: '출혈탄',
    description: '적에게 출혈 피해를 입힙니다.',
    rarity: 'magic',
    tags: ['DOT', 'FORCE'],
    baseCost: SKILL_COSTS.magic,
    maxLevel: RARITY_MAX_LEVEL.magic,
    passive: false,
    color: 0xcc2222,
    effects: {
      bleedDps: { base: 3, perLevel: 2 },
      dotDuration: { base: 4, perLevel: 0 },
    },
  },
  wind_shot: {
    id: 'wind_shot',
    name: '바람탄',
    description: '적을 밀어냅니다.',
    rarity: 'magic',
    tags: ['CC', 'PROJECTILE', 'NATURE'],
    baseCost: SKILL_COSTS.magic,
    maxLevel: RARITY_MAX_LEVEL.magic,
    passive: false,
    color: 0xaaffaa,
    effects: {
      knockback: { base: 20, perLevel: 10 },
    },
  },

  // --------------------------------------------------------
  // RARE (12 skills, baseCost=150, maxLevel=5)
  // --------------------------------------------------------
  chain_lightning: {
    id: 'chain_lightning',
    name: '연쇄 번개',
    description: '번개가 여러 적에게 연쇄됩니다.',
    rarity: 'rare',
    tags: ['CHAIN', 'AOE', 'LIGHTNING'],
    baseCost: SKILL_COSTS.rare,
    maxLevel: RARITY_MAX_LEVEL.rare,
    passive: false,
    color: 0xffff00,
    effects: {
      chainCount: { base: 2, perLevel: 1 },
      chainDamageRatio: { base: 0.7, perLevel: 0 },
    },
  },
  pierce_shot: {
    id: 'pierce_shot',
    name: '관통탄',
    description: '투사체가 여러 적을 관통합니다.',
    rarity: 'rare',
    tags: ['PROJECTILE', 'AOE', 'FORCE'],
    baseCost: SKILL_COSTS.rare,
    maxLevel: RARITY_MAX_LEVEL.rare,
    passive: false,
    color: 0xaaaaaa,
    effects: {
      pierceCount: { base: 2, perLevel: 1 },
    },
  },
  multi_shot: {
    id: 'multi_shot',
    name: '다중 사격',
    description: '동시에 여러 발을 발사합니다.',
    rarity: 'rare',
    tags: ['PROJECTILE', 'SPEED'],
    baseCost: SKILL_COSTS.rare,
    maxLevel: RARITY_MAX_LEVEL.rare,
    passive: true,
    color: 0xff6600,
    effects: {
      multiShot: { base: 1, perLevel: 1 },
    },
  },
  homing_missile: {
    id: 'homing_missile',
    name: '유도 미사일',
    description: '주기적으로 유도 미사일을 발사합니다.',
    rarity: 'rare',
    tags: ['PROJECTILE', 'SINGLE', 'FIRE'],
    baseCost: SKILL_COSTS.rare,
    maxLevel: RARITY_MAX_LEVEL.rare,
    passive: false,
    color: 0xff4444,
    effects: {
      homingDamage: { base: 20, perLevel: 15 },
      homingInterval: { base: 3, perLevel: -0.3 },
    },
  },
  frozen_field: {
    id: 'frozen_field',
    name: '동결 필드',
    description: '주변 적을 지속적으로 감속시킵니다.',
    rarity: 'rare',
    tags: ['CC', 'AOE', 'ICE'],
    baseCost: SKILL_COSTS.rare,
    maxLevel: RARITY_MAX_LEVEL.rare,
    passive: false,
    color: 0x88ddff,
    effects: {
      auraRadius: { base: 60, perLevel: 15 },
      auraSlow: { base: 0.3, perLevel: 0.05 },
    },
  },
  poison_cloud: {
    id: 'poison_cloud',
    name: '독구름',
    description: '독 구름을 생성하여 범위 피해를 입힙니다.',
    rarity: 'rare',
    tags: ['DOT', 'AOE', 'NATURE'],
    baseCost: SKILL_COSTS.rare,
    maxLevel: RARITY_MAX_LEVEL.rare,
    passive: false,
    color: 0x44cc44,
    effects: {
      cloudRadius: { base: 40, perLevel: 10 },
      cloudDps: { base: 5, perLevel: 5 },
    },
  },
  fire_trail: {
    id: 'fire_trail',
    name: '화염 흔적',
    description: '투사체 경로에 화염 지대를 남깁니다.',
    rarity: 'rare',
    tags: ['DOT', 'AOE', 'FIRE'],
    baseCost: SKILL_COSTS.rare,
    maxLevel: RARITY_MAX_LEVEL.rare,
    passive: false,
    color: 0xff6600,
    effects: {
      trailDps: { base: 4, perLevel: 4 },
      trailDuration: { base: 3, perLevel: 0.5 },
    },
  },
  shadow_strike: {
    id: 'shadow_strike',
    name: '그림자 일격',
    description: '주기적으로 높은 치명타 확률의 일격을 가합니다.',
    rarity: 'rare',
    tags: ['DARK', 'CRIT', 'SINGLE'],
    baseCost: SKILL_COSTS.rare,
    maxLevel: RARITY_MAX_LEVEL.rare,
    passive: false,
    color: 0x6644aa,
    effects: {
      shadowInterval: { base: 3, perLevel: -0.3 },
      shadowCritChance: { base: 0.5, perLevel: 0.1 },
    },
  },
  thunder_storm: {
    id: 'thunder_storm',
    name: '뇌우',
    description: '주기적으로 범위 번개 피해를 입힙니다.',
    rarity: 'rare',
    tags: ['LIGHTNING', 'AOE', 'DOT'],
    baseCost: SKILL_COSTS.rare,
    maxLevel: RARITY_MAX_LEVEL.rare,
    passive: false,
    color: 0xeeee44,
    effects: {
      stormInterval: { base: 4, perLevel: -0.5 },
      stormDamage: { base: 25, perLevel: 15 },
    },
  },
  vine_trap: {
    id: 'vine_trap',
    name: '덩굴 덫',
    description: '적을 속박하는 덫을 설치합니다.',
    rarity: 'rare',
    tags: ['NATURE', 'CC', 'DEBUFF'],
    baseCost: SKILL_COSTS.rare,
    maxLevel: RARITY_MAX_LEVEL.rare,
    passive: false,
    color: 0x44aa44,
    effects: {
      trapDuration: { base: 2, perLevel: 0.5 },
      trapCount: { base: 1, perLevel: 1 },
    },
  },
  ricochet: {
    id: 'ricochet',
    name: '도탄',
    description: '투사체가 적 사이에서 튕깁니다.',
    rarity: 'rare',
    tags: ['PROJECTILE', 'CHAIN', 'FORCE'],
    baseCost: SKILL_COSTS.rare,
    maxLevel: RARITY_MAX_LEVEL.rare,
    passive: false,
    color: 0xbbbbbb,
    effects: {
      ricochetCount: { base: 2, perLevel: 1 },
    },
  },
  blizzard: {
    id: 'blizzard',
    name: '눈보라',
    description: '넓은 범위에 냉기 피해와 감속을 가합니다.',
    rarity: 'rare',
    tags: ['ICE', 'AOE', 'CC', 'DOT'],
    baseCost: SKILL_COSTS.rare,
    maxLevel: RARITY_MAX_LEVEL.rare,
    passive: false,
    color: 0xaaddff,
    effects: {
      blizzardRadius: { base: 80, perLevel: 20 },
      blizzardSlow: { base: 0.4, perLevel: 0.05 },
      blizzardDps: { base: 3, perLevel: 3 },
    },
  },

  // --------------------------------------------------------
  // UNIQUE (10 skills, baseCost=400, maxLevel=3)
  // --------------------------------------------------------
  execute: {
    id: 'execute',
    name: '처형',
    description: '체력이 낮은 적에게 즉사 효과를 발동합니다.',
    rarity: 'unique',
    tags: ['CRIT', 'SINGLE', 'DARK'],
    baseCost: SKILL_COSTS.unique,
    maxLevel: RARITY_MAX_LEVEL.unique,
    passive: true,
    color: 0xaa0000,
    effects: {
      executeThreshold: { base: 0.15, perLevel: 0.05 },
    },
  },
  gold_fever: {
    id: 'gold_fever',
    name: '황금광',
    description: '처치 시 추가 골드를 획득합니다.',
    rarity: 'unique',
    tags: ['ECONOMY', 'SCALE'],
    baseCost: SKILL_COSTS.unique,
    maxLevel: RARITY_MAX_LEVEL.unique,
    passive: true,
    color: 0xffdd00,
    effects: {
      goldKillPercent: { base: 0.5, perLevel: 0.25 },
    },
  },
  soul_harvest: {
    id: 'soul_harvest',
    name: '영혼 수확',
    description: '처치 시 추가 경험치를 획득합니다.',
    rarity: 'unique',
    tags: ['ECONOMY', 'DARK', 'SCALE'],
    baseCost: SKILL_COSTS.unique,
    maxLevel: RARITY_MAX_LEVEL.unique,
    passive: true,
    color: 0xaa44ff,
    effects: {
      expKillPercent: { base: 0.4, perLevel: 0.2 },
    },
  },
  mirror_orb: {
    id: 'mirror_orb',
    name: '거울 오브',
    description: '타워를 복제하는 오브를 소환합니다.',
    rarity: 'unique',
    tags: ['SUMMON', 'SCALE'],
    baseCost: SKILL_COSTS.unique,
    maxLevel: RARITY_MAX_LEVEL.unique,
    passive: true,
    color: 0xddddff,
    effects: {
      orbCloneCount: { base: 1, perLevel: 1 },
    },
  },
  overcharge: {
    id: 'overcharge',
    name: '과충전',
    description: '모든 효과가 강화되지만 공격 속도가 감소합니다.',
    rarity: 'unique',
    tags: ['SCALE', 'LIGHTNING'],
    baseCost: SKILL_COSTS.unique,
    maxLevel: RARITY_MAX_LEVEL.unique,
    passive: true,
    color: 0xffff88,
    effects: {
      allEffectsPercent: { base: 0.2, perLevel: 0.1 },
      fireRatePenalty: { base: -0.15, perLevel: 0 },
    },
  },
  berserker: {
    id: 'berserker',
    name: '광전사',
    description: '처치할수록 공격력과 공격 속도가 증가합니다.',
    rarity: 'unique',
    tags: ['SCALE', 'SPEED', 'FORCE'],
    baseCost: SKILL_COSTS.unique,
    maxLevel: RARITY_MAX_LEVEL.unique,
    passive: true,
    color: 0xff2200,
    effects: {
      berserkerDamage: { base: 0.01, perLevel: 0.005 },
      berserkerSpeed: { base: 0.005, perLevel: 0.003 },
    },
  },
  ice_age: {
    id: 'ice_age',
    name: '빙하기',
    description: '모든 CC 효과의 지속 시간이 증가합니다.',
    rarity: 'unique',
    tags: ['ICE', 'CC', 'SCALE'],
    baseCost: SKILL_COSTS.unique,
    maxLevel: RARITY_MAX_LEVEL.unique,
    passive: true,
    color: 0x88ffff,
    effects: {
      ccDurationMult: { base: 2.0, perLevel: 0.5 },
    },
  },
  plague_bearer: {
    id: 'plague_bearer',
    name: '역병 전파자',
    description: 'DOT 효과가 주변 적에게 전파됩니다.',
    rarity: 'unique',
    tags: ['NATURE', 'DOT', 'CHAIN', 'SCALE'],
    baseCost: SKILL_COSTS.unique,
    maxLevel: RARITY_MAX_LEVEL.unique,
    passive: true,
    color: 0x44aa00,
    effects: {
      dotSpreadChance: { base: 0.5, perLevel: 0.25 },
    },
  },
  inferno_core: {
    id: 'inferno_core',
    name: '지옥의 핵',
    description: '화염 중첩 시 폭발을 일으킵니다.',
    rarity: 'unique',
    tags: ['FIRE', 'DOT', 'AOE', 'SCALE'],
    baseCost: SKILL_COSTS.unique,
    maxLevel: RARITY_MAX_LEVEL.unique,
    passive: true,
    color: 0xff4400,
    effects: {
      fireStackMax: { base: 2, perLevel: 1 },
      fireStackExplosion: { base: 30, perLevel: 20 },
    },
  },
  void_rift: {
    id: 'void_rift',
    name: '공허의 균열',
    description: '공허 지대를 생성하여 적을 약화시킵니다.',
    rarity: 'unique',
    tags: ['DARK', 'DEBUFF', 'AOE', 'SCALE'],
    baseCost: SKILL_COSTS.unique,
    maxLevel: RARITY_MAX_LEVEL.unique,
    passive: false,
    color: 0x4400aa,
    effects: {
      voidDuration: { base: 5, perLevel: 3 },
      voidDps: { base: 8, perLevel: 8 },
      voidSlow: { base: 0.3, perLevel: 0.1 },
    },
  },

  // --------------------------------------------------------
  // MYTHIC (8 skills, baseCost=750, maxLevel=2)
  // --------------------------------------------------------
  elemental_fusion: {
    id: 'elemental_fusion',
    name: '원소 융합',
    description: '모든 원소 피해가 크게 증가합니다.',
    rarity: 'mythic',
    tags: ['FIRE', 'ICE', 'LIGHTNING', 'SCALE'],
    baseCost: SKILL_COSTS.mythic,
    maxLevel: RARITY_MAX_LEVEL.mythic,
    passive: true,
    color: 0xff88ff,
    effects: {
      elementalDamagePercent: { base: 0.6, perLevel: 0.2 },
    },
  },
  death_mark: {
    id: 'death_mark',
    name: '죽음의 표식',
    description: '피격 누적 시 즉사 효과가 발동됩니다.',
    rarity: 'mythic',
    tags: ['DARK', 'CRIT', 'DEBUFF', 'SCALE'],
    baseCost: SKILL_COSTS.mythic,
    maxLevel: RARITY_MAX_LEVEL.mythic,
    passive: true,
    color: 0x440044,
    effects: {
      deathMarkStacks: { base: 3, perLevel: -1 },
    },
  },
  chain_reaction: {
    id: 'chain_reaction',
    name: '연쇄 반응',
    description: '체인 히트 시 추가 폭발이 발생합니다.',
    rarity: 'mythic',
    tags: ['CHAIN', 'AOE', 'SCALE'],
    baseCost: SKILL_COSTS.mythic,
    maxLevel: RARITY_MAX_LEVEL.mythic,
    passive: true,
    color: 0xff8800,
    effects: {
      chainReactionChance: { base: 0.3, perLevel: 0.15 },
    },
  },
  eternal_winter: {
    id: 'eternal_winter',
    name: '영원한 겨울',
    description: '극한의 냉기로 적을 감속하고 피해를 입힙니다.',
    rarity: 'mythic',
    tags: ['ICE', 'CC', 'AOE', 'DOT'],
    baseCost: SKILL_COSTS.mythic,
    maxLevel: RARITY_MAX_LEVEL.mythic,
    passive: false,
    color: 0xccffff,
    effects: {
      winterSlow: { base: 0.5, perLevel: 0.1 },
      winterDps: { base: 5, perLevel: 5 },
      winterFreeze: { base: 0.1, perLevel: 0.05 },
    },
  },
  gold_mint: {
    id: 'gold_mint',
    name: '황금 주조기',
    description: '주기적으로 골드 오브를 생성합니다.',
    rarity: 'mythic',
    tags: ['ECONOMY', 'SCALE', 'SUMMON'],
    baseCost: SKILL_COSTS.mythic,
    maxLevel: RARITY_MAX_LEVEL.mythic,
    passive: true,
    color: 0xffee00,
    effects: {
      goldOrbCount: { base: 10, perLevel: -3 },
      goldOrbReward: { base: 50, perLevel: 30 },
    },
  },
  phantom_army: {
    id: 'phantom_army',
    name: '유령 군단',
    description: '환영 분신을 소환합니다.',
    rarity: 'mythic',
    tags: ['SUMMON', 'DARK', 'SCALE'],
    baseCost: SKILL_COSTS.mythic,
    maxLevel: RARITY_MAX_LEVEL.mythic,
    passive: true,
    color: 0x8844cc,
    effects: {
      phantomCloneCount: { base: 1, perLevel: 1 },
      phantomEfficiency: { base: 0.6, perLevel: 0.1 },
    },
  },
  wildfire: {
    id: 'wildfire',
    name: '들불',
    description: '화염이 적 사이에서 확산됩니다.',
    rarity: 'mythic',
    tags: ['FIRE', 'DOT', 'CHAIN', 'AOE'],
    baseCost: SKILL_COSTS.mythic,
    maxLevel: RARITY_MAX_LEVEL.mythic,
    passive: true,
    color: 0xff6600,
    effects: {
      wildfireSpread: { base: 1.0, perLevel: 0 },
      wildfireChain: { base: 2, perLevel: 1 },
    },
  },
  toxic_evolution: {
    id: 'toxic_evolution',
    name: '독성 진화',
    description: '독이 시간이 지남에 따라 강화됩니다.',
    rarity: 'mythic',
    tags: ['NATURE', 'DOT', 'DEBUFF', 'SCALE'],
    baseCost: SKILL_COSTS.mythic,
    maxLevel: RARITY_MAX_LEVEL.mythic,
    passive: true,
    color: 0x00aa44,
    effects: {
      toxicStacksPerTier: { base: 5, perLevel: -1 },
      toxicTiers: { base: 4, perLevel: 0 },
    },
  },

  // --------------------------------------------------------
  // LEGEND (8 skills, baseCost=1000, maxLevel=1)
  // --------------------------------------------------------
  apocalypse: {
    id: 'apocalypse',
    name: '종말',
    description: '주기적으로 화면 전체에 파괴적인 피해를 입힙니다.',
    rarity: 'legend',
    tags: ['AOE', 'DOT', 'FIRE', 'DARK'],
    baseCost: SKILL_COSTS.legend,
    maxLevel: RARITY_MAX_LEVEL.legend,
    passive: false,
    color: 0xff0000,
    effects: {
      apocalypseInterval: { base: 10, perLevel: 0 },
      apocalypseDamage: { base: 100, perLevel: 0 },
    },
  },
  time_warp: {
    id: 'time_warp',
    name: '시간 왜곡',
    description: '타워 속도를 높이고 적을 느리게 만듭니다.',
    rarity: 'legend',
    tags: ['SPEED', 'CC', 'SCALE'],
    baseCost: SKILL_COSTS.legend,
    maxLevel: RARITY_MAX_LEVEL.legend,
    passive: true,
    color: 0x44aaff,
    effects: {
      timeWarpTowerSpeed: { base: 2.0, perLevel: 0 },
      timeWarpEnemySlow: { base: 0.5, perLevel: 0 },
    },
  },
  black_hole: {
    id: 'black_hole',
    name: '블랙홀',
    description: '적을 빨아들이는 블랙홀을 소환합니다.',
    rarity: 'legend',
    tags: ['CC', 'AOE', 'SUMMON', 'DARK'],
    baseCost: SKILL_COSTS.legend,
    maxLevel: RARITY_MAX_LEVEL.legend,
    passive: false,
    color: 0x220044,
    effects: {
      blackHoleRadius: { base: 100, perLevel: 0 },
      blackHoleDps: { base: 15, perLevel: 0 },
      blackHolePull: { base: 50, perLevel: 0 },
    },
  },
  infinity_chain: {
    id: 'infinity_chain',
    name: '무한 연쇄',
    description: '체인 횟수가 크게 증가합니다.',
    rarity: 'legend',
    tags: ['CHAIN', 'SCALE', 'LIGHTNING'],
    baseCost: SKILL_COSTS.legend,
    maxLevel: RARITY_MAX_LEVEL.legend,
    passive: true,
    color: 0xffff44,
    effects: {
      infinityChainAdd: { base: 2, perLevel: 0 },
    },
  },
  dragon_breath: {
    id: 'dragon_breath',
    name: '용의 숨결',
    description: '부채꼴 범위에 강력한 화염을 내뿜습니다.',
    rarity: 'legend',
    tags: ['DOT', 'AOE', 'PROJECTILE', 'FIRE'],
    baseCost: SKILL_COSTS.legend,
    maxLevel: RARITY_MAX_LEVEL.legend,
    passive: false,
    color: 0xff2200,
    effects: {
      breathDamage: { base: 30, perLevel: 0 },
      breathAngle: { base: 60, perLevel: 0 },
      breathRange: { base: 200, perLevel: 0 },
    },
  },
  world_tree: {
    id: 'world_tree',
    name: '세계수',
    description: '세계수를 소환하여 감속, 독, 골드 보너스를 제공합니다.',
    rarity: 'legend',
    tags: ['NATURE', 'SUMMON', 'AOE', 'SCALE'],
    baseCost: SKILL_COSTS.legend,
    maxLevel: RARITY_MAX_LEVEL.legend,
    passive: false,
    color: 0x22aa22,
    effects: {
      treeSlowRadius: { base: 100, perLevel: 0 },
      treePoisonDps: { base: 10, perLevel: 0 },
      treeGoldBonus: { base: 0.2, perLevel: 0 },
    },
  },
  absolute_zero: {
    id: 'absolute_zero',
    name: '절대 영도',
    description: '주기적으로 모든 적을 동결시킵니다.',
    rarity: 'legend',
    tags: ['ICE', 'CC', 'AOE', 'SCALE'],
    baseCost: SKILL_COSTS.legend,
    maxLevel: RARITY_MAX_LEVEL.legend,
    passive: false,
    color: 0xeeffff,
    effects: {
      absoluteZeroInterval: { base: 15, perLevel: 0 },
      absoluteZeroDuration: { base: 3, perLevel: 0 },
    },
  },
  storm_lord: {
    id: 'storm_lord',
    name: '폭풍의 군주',
    description: '번개 폭풍을 소환하여 연쇄 피해를 입힙니다.',
    rarity: 'legend',
    tags: ['LIGHTNING', 'CHAIN', 'AOE', 'SUMMON'],
    baseCost: SKILL_COSTS.legend,
    maxLevel: RARITY_MAX_LEVEL.legend,
    passive: false,
    color: 0xffff00,
    effects: {
      stormLordDps: { base: 20, perLevel: 0 },
      stormLordChain: { base: 3, perLevel: 0 },
    },
  },
};

// ============================================================
// Helper exports
// ============================================================

/** All skills as a flat array */
export const SKILL_LIST: SkillData[] = Object.values(SKILLS);

/** Filter skills by rarity */
export function getSkillsByRarity(rarity: SkillRarity): SkillData[] {
  return SKILL_LIST.filter((s) => s.rarity === rarity);
}
